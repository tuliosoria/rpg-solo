// Archive/Past-Only Files - Files that only exist in the archive/rewind state
// These contain deleted evidence, unredacted versions, and pre-sanitized reports

import { FileNode } from '../types';

// ═══════════════════════════════════════════════════════════════════════════
// PAST-ONLY FILES - Only visible when inArchiveMode is true
// ═══════════════════════════════════════════════════════════════════════════

export const witness_statement_original: FileNode = {
  type: 'file',
  name: 'witness_statement_original.txt',
  status: 'intact',
  content: [
    '═══════════════════════════════════════════════════════════',
    'WITNESS STATEMENT — UNREDACTED',
    'SUBJECT: MARIA ELENA SOUZA',
    'DATE: JANUARY 21, 1996',
    'CLASSIFICATION: DELETED — DO NOT DISTRIBUTE',
    '═══════════════════════════════════════════════════════════',
    '',
    'INTERVIEWER: Please describe exactly what you saw.',
    '',
    'SOUZA: It was around 3:30 AM. I couldn\'t sleep because of',
    'the heat. I went outside to smoke and saw the sky light up.',
    '',
    'Not like lightning. It was... pulsing. Red and white.',
    '',
    'Then I saw it come down. Silent. No sound at all.',
    'It hit somewhere beyond the fazenda, maybe 2km north.',
    '',
    'INTERVIEWER: What happened next?',
    '',
    'SOUZA: I ran inside. Woke my husband. By the time we went',
    'back out, there were already trucks. Military trucks.',
    'How did they get there so fast? We\'re 40km from anything.',
    '',
    '[REDACTED IN FINAL VERSION]',
    'SOUZA: I saw them load something. Not debris.',
    'It was... it was small. The size of a child.',
    'But it wasn\'t a child. The proportions were wrong.',
    'The head was too large. The limbs too thin.',
    '',
    'One of them turned toward me. Just for a moment.',
    'Its eyes... I still see them when I close mine.',
    '',
    '[END REDACTED SECTION]',
    '',
    'INTERVIEWER: Did anyone speak to you?',
    '',
    'SOUZA: A man in a dark suit. Not military.',
    'He said I had a fever dream. That the heat',
    'can make people see things that aren\'t there.',
    '',
    'He gave me a number to call if I remembered',
    '"correctly." Said my husband\'s job depended on it.',
    '',
    '───────────────────────────────────────────────────────────',
    'STATUS: STATEMENT EXPUNGED FROM OFFICIAL RECORD',
    'REASON: "Witness reliability compromised by stress"',
    '───────────────────────────────────────────────────────────',
  ],
  tags: ['witness', 'cover-up', 'creature'],
};

export const directive_alpha_draft: FileNode = {
  type: 'file',
  name: 'directive_alpha_draft.txt',
  status: 'intact',
  content: [
    '═══════════════════════════════════════════════════════════',
    'DRAFT — DIRECTIVE ALPHA — ITERATION 1',
    'DATE: JANUARY 19, 1996 — 04:22',
    'AUTHOR: [DELETED]',
    'STATUS: SUPERSEDED — MARKED FOR DELETION',
    '═══════════════════════════════════════════════════════════',
    '',
    'IMMEDIATE ACTION REQUIRED',
    '',
    'Asset recovery timeline must be accelerated.',
    '',
    'Current projections suggest 2026 convergence window is',
    'CLOSER than previously modeled. New signal analysis',
    'indicates active monitoring of this region.',
    '',
    '───────────────────────────────────────────────────────────',
    'REMOVED FROM FINAL VERSION:',
    '───────────────────────────────────────────────────────────',
    '',
    'The subjects (designated BIO-A through BIO-C) have',
    'demonstrated unexpected cognitive persistence despite',
    'containment protocols. Recommend immediate relocation',
    'to Site 7 for long-term study.',
    '',
    'NOTE: Subject BIO-B has attempted communication.',
    'Preliminary analysis suggests awareness of our',
    'organizational structure. HOW?',
    '',
    'Recommend cognitive isolation protocol.',
    '',
    '───────────────────────────────────────────────────────────',
    'SANITIZATION NOTE:',
    '───────────────────────────────────────────────────────────',
    '',
    'Final directive will reference "material recovery" only.',
    'All biological terminology to be replaced with',
    '"debris" and "artifacts".',
    '',
    'Project SEED references to be purged.',
    '',
    '═══════════════════════════════════════════════════════════',
  ],
  tags: ['classified', 'cover-up', 'creature', '2026'],
};

export const deleted_comms_log: FileNode = {
  type: 'file',
  name: 'deleted_comms_log.txt',
  status: 'intact',
  content: [
    '═══════════════════════════════════════════════════════════',
    'COMMUNICATIONS LOG — PURGED',
    'DATE: JANUARY 20-22, 1996',
    'RECOVERY STATUS: PARTIAL RESTORATION FROM BACKUP SECTOR',
    '═══════════════════════════════════════════════════════════',
    '',
    '[20/01/96 02:17:33]',
    'SITE-3 > COMMAND: Confirmation of visual. Multiple witnesses.',
    '',
    '[20/01/96 02:19:01]',
    'COMMAND > SITE-3: Mobilize RECOVERY TEAM. No local involvement.',
    '',
    '[20/01/96 02:22:45]',
    'SITE-3 > COMMAND: Team en route. ETA 18 minutes.',
    '',
    '[20/01/96 02:41:12]',
    'RECOVERY > COMMAND: On scene. Initial assessment complete.',
    '                    Three biologics confirmed. One responsive.',
    '',
    '[20/01/96 02:43:08]',
    'COMMAND > RECOVERY: Responsive HOW?',
    '',
    '[20/01/96 02:44:55]',
    'RECOVERY > COMMAND: It\'s looking at us. At each of us in turn.',
    '                    Like it\'s... counting.',
    '',
    '[20/01/96 02:45:30]',
    'COMMAND > RECOVERY: Contain immediately. No direct eye contact.',
    '',
    '[20/01/96 03:12:00]',
    'RECOVERY > COMMAND: All biologics contained.',
    '                    One handler reporting headache and nausea.',
    '                    Request medical standby.',
    '',
    '[20/01/96 03:15:22]',
    'COMMAND > ALL: Initiate communications blackout.',
    '               This log is now CLASSIFIED OMEGA.',
    '',
    '[LOG TERMINATED]',
    '',
    '───────────────────────────────────────────────────────────',
    'DELETION ORDER: COMM-1996-0120-DEL',
    'AUTHORIZATION: [SIGNATURE EXPUNGED]',
    '───────────────────────────────────────────────────────────',
  ],
  tags: ['communication', 'cover-up', 'creature', 'telepathic'],
};

export const personnel_file_costa: FileNode = {
  type: 'file',
  name: 'personnel_file_costa.txt',
  status: 'intact',
  content: [
    '═══════════════════════════════════════════════════════════',
    'PERSONNEL FILE — COSTA, RICARDO MANUEL',
    'EMPLOYEE ID: [RECORD DELETED]',
    'STATUS: NON-EXISTENT (OFFICIALLY)',
    '═══════════════════════════════════════════════════════════',
    '',
    'NOTE: This file should not exist. Ricardo Costa was',
    'removed from all personnel databases on 01/25/1996.',
    '',
    'POSITION: Senior Containment Specialist',
    'CLEARANCE: Level 4',
    'ASSIGNED: Site 7, Biological Research Wing',
    '',
    '───────────────────────────────────────────────────────────',
    'INCIDENT REPORT (REDACTED FROM ALL COPIES)',
    '───────────────────────────────────────────────────────────',
    '',
    'DATE: January 23, 1996',
    '',
    'Costa was assigned to overnight monitoring of Subject BIO-B.',
    'At approximately 02:30, monitoring equipment detected',
    'anomalous brain wave patterns in Costa. Patterns were',
    'synchronized with emissions from Subject BIO-B.',
    '',
    'Costa was found unresponsive at 06:00 shift change.',
    'Eyes were open. Pupils dilated. Breathing normal.',
    '',
    'When Costa regained consciousness (approximately 14:00),',
    'he reported complete memory loss of the preceding 12 hours.',
    '',
    'Additionally, Costa demonstrated knowledge of events that',
    'had not yet occurred — predicting the arrival of an',
    'inspection team 3 hours before notification was sent.',
    '',
    '───────────────────────────────────────────────────────────',
    'FINAL DISPOSITION',
    '───────────────────────────────────────────────────────────',
    '',
    'Costa was transferred to psychiatric evaluation.',
    'His employment records were sanitized.',
    'His family was informed of a "work accident."',
    '',
    'Current status: UNKNOWN',
    '',
    'UNOFFICIAL NOTE (handwritten scan):',
    '"He keeps writing the same date over and over.',
    ' September 4, 2026. What happens then?"',
    '',
    '═══════════════════════════════════════════════════════════',
  ],
  tags: ['administrative', 'cover-up', 'telepathic', 'psi', '2026'],
};

export const project_seed_memo: FileNode = {
  type: 'file',
  name: 'project_seed_memo.txt',
  status: 'intact',
  content: [
    '═══════════════════════════════════════════════════════════',
    'MEMORANDUM — PROJECT SEED',
    'CLASSIFICATION: ULTRA — DELETED FROM ALL SYSTEMS',
    'DATE: JANUARY 18, 1996',
    '═══════════════════════════════════════════════════════════',
    '',
    'TO: [REDACTED]',
    'FROM: Director, Special Programs Division',
    'RE: Accelerated Timeline Revision',
    '',
    '───────────────────────────────────────────────────────────',
    '',
    'The events of January 20th have changed our calculations.',
    '',
    'Project SEED was predicated on the assumption that first',
    'contact would occur within a controlled environment.',
    'The Varginha incident has invalidated this assumption.',
    '',
    'The biologics recovered demonstrate capabilities beyond',
    'our current models. Specifically:',
    '',
    '  1. Apparent telepathic communication',
    '  2. Knowledge of human organizational structures',
    '  3. References to a specific future date (2026)',
    '',
    'Most concerning: the biologics appear to have been',
    'EXPECTING us. They were not surprised by capture.',
    'They were not hostile. They were... patient.',
    '',
    '───────────────────────────────────────────────────────────',
    'REVISED ASSESSMENT',
    '───────────────────────────────────────────────────────────',
    '',
    'We are not dealing with a crash landing.',
    'We are dealing with a DELIVERY.',
    '',
    'The craft was designed to be found.',
    'The biologics were designed to be captured.',
    'They are reconnaissance units.',
    '',
    'PROJECT SEED must pivot from "preparation" to',
    '"acceleration." The 2026 window is now considered',
    'a hard deadline, not an estimate.',
    '',
    '───────────────────────────────────────────────────────────',
    'DISPOSITION OF THIS MEMO',
    '───────────────────────────────────────────────────────────',
    '',
    'This document will be purged from all systems within 72hrs.',
    'Do not create copies. Do not reference PROJECT SEED',
    'in any future communications.',
    '',
    'The official narrative will be: "crashed experimental craft"',
    'The biologics will be: "unusual debris formations"',
    'The timeline will be: "irrelevant hoax material"',
    '',
    '═══════════════════════════════════════════════════════════',
  ],
  tags: ['classified', 'cover-up', 'creature', 'telepathic', '2026', 'international'],
};

export const autopsy_notes_unredacted: FileNode = {
  type: 'file',
  name: 'autopsy_notes_unredacted.txt',
  status: 'intact',
  content: [
    '═══════════════════════════════════════════════════════════',
    'AUTOPSY NOTES — UNREDACTED VERSION',
    'SUBJECT: BIO-C (DECEASED)',
    'EXAMINER: Dr. [NAME EXPUNGED]',
    'DATE: JANUARY 24, 1996',
    'STATUS: MARKED FOR DESTRUCTION',
    '═══════════════════════════════════════════════════════════',
    '',
    'PRE-EXAMINATION NOTES:',
    '',
    'Subject expired at 04:17 on 01/24. Cause of death unclear.',
    'No external trauma. No signs of illness or distress.',
    'Subject appeared to simply... stop functioning.',
    '',
    '───────────────────────────────────────────────────────────',
    'PHYSICAL EXAMINATION',
    '───────────────────────────────────────────────────────────',
    '',
    'Height: 127cm (approx 4\'2")',
    'Weight: 18.3kg (approx 40lbs)',
    'Skin: Gray-brown pigmentation, slight bioluminescence',
    '',
    'CRANIUM: Significantly enlarged. Brain mass approximately',
    '3x human proportional average. Unusual folding patterns.',
    '',
    'EYES: Large, almond-shaped. Pupils fixed and dilated.',
    'Retinal structure suggests low-light specialization.',
    '',
    'LIMBS: Proportionally longer than human. Four digits per',
    'hand. No fingernails. Skin thin over small bone structure.',
    '',
    '───────────────────────────────────────────────────────────',
    'INTERNAL EXAMINATION — [DELETED FROM OFFICIAL REPORT]',
    '───────────────────────────────────────────────────────────',
    '',
    'Cardiovascular: Single heart, three chambers. Efficient.',
    '',
    'Digestive: Minimal. Subject appears designed for',
    'nutrient absorption rather than food processing.',
    '',
    'Reproductive: None observed. Subject appears to be',
    'purpose-built rather than naturally developed.',
    '',
    'CRITICAL FINDING:',
    'Neural tissue contains metallic inclusions. Analysis',
    'suggests organic circuitry. This being was MANUFACTURED.',
    '',
    'It is not a natural life form.',
    'It is a construct. A biological machine.',
    '',
    '───────────────────────────────────────────────────────────',
    'PERSONAL NOTE (not for official record):',
    '',
    'I have practiced medicine for 30 years. I have never',
    'questioned what I believed about life and its origins.',
    '',
    'Today I questioned everything.',
    '',
    'These are not visitors. These are messengers.',
    'And we are not prepared for what they herald.',
    '',
    '═══════════════════════════════════════════════════════════',
  ],
  tags: ['autopsy', 'creature', 'medical', 'classified'],
};

// Map of archive files by their full paths
// These files only appear in archive mode (during rewind)
// Placed in existing directories for easier access
export const ARCHIVE_FILES: Record<string, FileNode> = {
  '/storage/quarantine/witness_statement_original.txt': witness_statement_original,
  '/storage/assets/directive_alpha_draft.txt': directive_alpha_draft,
  '/comms/deleted_comms_log.txt': deleted_comms_log,
  '/internal/personnel_file_costa.txt': personnel_file_costa,
  '/internal/project_seed_memo.txt': project_seed_memo,
  '/ops/medical/autopsy_notes_unredacted.txt': autopsy_notes_unredacted,
};

// Directories that gain additional files in archive mode
export const ARCHIVE_DIRECTORY_ADDITIONS: Record<string, string[]> = {
  '/storage/quarantine': ['witness_statement_original.txt'],
  '/storage/assets': ['directive_alpha_draft.txt'],
  '/comms': ['deleted_comms_log.txt'],
  '/internal': ['personnel_file_costa.txt', 'project_seed_memo.txt'],
  '/ops/medical': ['autopsy_notes_unredacted.txt'],
};

// Generate a random archive timestamp (formatted like 02:09:12)
export function generateArchiveTimestamp(): string {
  const hours = String(Math.floor(Math.random() * 4) + 1).padStart(2, '0'); // 01-04
  const minutes = String(Math.floor(Math.random() * 60)).padStart(2, '0');
  const seconds = String(Math.floor(Math.random() * 60)).padStart(2, '0');
  return `${hours}:${minutes}:${seconds}`;
}

// Check if a file should randomly disappear mid-access (~10% chance)
// Uses a combination of seed and file path for deterministic but varied behavior
export function shouldFileDisappear(seed: number, filePath: string): boolean {
  // Use a simple hash to make disappearance deterministic per file per session
  const hash = filePath.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
  const combined = (seed + hash) % 100;
  return combined < 10; // 10% chance
}
